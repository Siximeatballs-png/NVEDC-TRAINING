# ***05组电赛计划***

## **方向**

- 控制类方向

---

## *小组成员分工*

**成员1**

- **技术栈：**基本掌握STM32单片机标准库使用，了解部分PID控制理论，基本掌握灰度寻迹，红外测距模块，有一定数模电知识储备，熟练掌握Multisim、Keil、嘉立创PCB打板等。
- **学习方向：**学习图像处理方向。

**成员2**

- **技术栈：**基本掌握STM32单片机标准库及HAL库开发，ESP32单片机部分方面开发，了解部分PID控制理论，基本掌握灰度寻迹、雨滴传感器、温湿度传感器、光敏传感器、OLED、TFT、蓝牙、WiFi、MCU6050等模块，有一定数模电知识，熟练掌握Multisim、Keil、Thonny、PyCharm、嘉立创PCB打板等。
- **学习方向：**学习其他仿真软件及调试部分模块所用到的方法以及工具，如对于各种姿态传感器、陀螺仪测试。

**成员3**

- **技术栈：**基本掌握STM32单片机标准库开发，拥有较强的数模电知识基础，基本掌握灰度寻迹、OLED、LCD等模块使用，熟练掌握Multisim、Keil、嘉立创PCB打板等。
- **学习方向：**学习额外的控制理论，练习对于步进电机、直流减速电机进行学习、以及对于电压稳压的电路准备。

---

## 方向选择

### 备选题目1

24年H题自动行驶小车

#### 赛题分析

首先，该题目主控要求使用MSPM0系列单片机；其次，题目要求在固定线路上实现自动行驶，可能需要视觉或灰度寻迹处理相关知识，而题目后附要求不允许使用摄像头，故采用灰度寻迹；再者，考虑到指定路径宽度及半圆弧半径、场地面积、及小车要求大小，对相应代码及硬件设计进行调整；注意到题目要求停车时有声光报警，可以使用蜂鸣器加LED实现；考虑到题目有四个不同要求，考虑利用标志位等方式分开情况处理；由于有时间限制，可能需要实时采集数据，调整相关参数，尽可能加快小车速度。

#### 所需技术栈

MSPM0单片机开发技术，加速度采集模块相关算法，PID控制，灰度寻迹，蜂鸣器及LED的触发，电机驱动，电机原理及编码器使用，相关仿真软件使用，如Multisim等；硬件模块的装配。

### 备选题目2

21年送药小车

#### 赛题分析

分析题目的核心要求为在初始位置放好药品识别随机分配的病房号码以后，在20s内送达标号指定目的地并等待卸下药品后返回，要求时间仍为20s以内。及需要考虑如何判断药品放入与取出以及放置位置，联系题目要求，采用在小车车尾出放置一个足够大的托盘，并采用红外线或者压力传感的方式识别；针对识别药房数字，需要采用视觉模块如K210或者Openmv等；测试场地中有可以识别的路线，并根据题目要求对光线要求不高，最好采用视觉寻迹；题目要求在送达后亮起红色指示灯，则需要使用LED。另外需要考虑如何保证识别数字结束最好采用使用LED等方式提示。

#### 所需技术栈

STM32系列单片机开发；视觉模块使用，识别数字及寻迹相关；LED触发；红外传感及压力传感器使用；电机驱动模块；编码器及电机使用；运动控制模块使用；相关仿真软件使用；硬件设计

---

## 设备清单

### 所需工具

| 工具              | 数量 | 单价 | 合计 |
| ----------------- | ---- | ---- | ---- |
| 尖嘴钳            | 4    | 8.7  |      |
| 斜口钳/剥线钳     | 4    | 8.8  |      |
| 镊子              | 4    | 5.8  |      |
| 螺丝刀套装        | 3    | 13.9 |      |
| 美工刀            | 3    | 6.2  |      |
| 电烙铁（可调温）  | 3    | 13.8 |      |
| 焊锡丝            | 5    | 7.8  |      |
| 吸锡器/吸锡带     | 3    |      |      |
| 焊锡膏            | 5    | 18.5 |      |
| 数字万用表        | 2    | 18   |      |
| 放大镜            | 1    | 29.8 |      |
| 游标卡尺/数显卡尺 | 1    | 10.2 |      |
| 合计              |      |      |      |



### 硬件材料

| 器材名称及型号                         | 数量 | 单价   | 合计 |
| -------------------------------------- | ---- | ------ | ---- |
| STM32F407VET6                          | 2    | 48.8   |      |
| ST-LINK烧录器                          | 5    | 9      |      |
| MSPM0G3507                             | 2    | 29.9   |      |
| 超声波传感器（HC-SR04）                |      |        |      |
| 红外光电传感器（TCRT5000）             |      |        |      |
| 激光测距模块（TOF）                    |      |        |      |
| 灰度传感器（单路）                     | 4    | 12     |      |
| 视觉模块（K210）                       | 2    | 174.24 |      |
| L298N                                  | 4    | 5.8    |      |
| TB6612FN                               | 4    | 12.4   |      |
| 步进电机（42）+TB6600                  | 6    | 43     |      |
| 舵机（）                               |      |        |      |
| 降压模块（LM2596）                     |      |        |      |
| 升压模块（XL6009）                     |      |        |      |
| 锂电池（18650 2500mA）                 | 3    | 29.76  |      |
| 充电器（1A）                           | 2    | 8.7    |      |
| OLED（0.96寸）                         |      |        |      |
| LED                                    |      |        |      |
| 小车底盘（亚力克板）                   |      |        |      |
| 杜邦线（公对公、母对母、公对母各40根） | 1    | 8.57   |      |
| 铜柱                                   |      |        |      |
| 跳线帽                                 |      |        |      |
| 螺丝                                   |      |        |      |
| 黑色绝缘胶布（10卷）                   | 1    | 8.9    |      |
| 独立按键                               |      |        |      |
| 排针                                   |      |        |      |
| 排母                                   |      |        |      |
|                                        |      |        |      |
|                                        |      |        |      |
|                                        |      |        |      |

---

### 软件工具链

- STM32主控开发：主控开发（**STM32CubeMX**、**Keil **）~烧录及调试（**stc-isp-v6.92D**）~仿真与建模（**MATLAB/Simulink**、**Proteus**）~PCB设计（**嘉立创EDA**）
- MSPM0主控开发：主控开发（**Code Composer Studio** 、**Keil**）~烧录及调试（**XDS110 Debug Probe**）~仿真与建模（**MATLAB/Simulink**）~PCB设计（**嘉立创EDA**）

---

## 学习计划

- **3.17~3.23**  根据题目购买相关器材，并设计小车基本框架（代码提交）
- **3.24~3.30**  基本实现题目要求1、2、3（代码提交加pcb截图）
- **3.31~4.6**    实现题目要求4，并对整体所用时间优化（更新代码）
- **4.7~4.11 **   完善题目一，基本实现封箱的水准
- **4.14~4.20**  根据题目内容购买相关器材，建立小车基本框架（代码提交）
- **4.21~4.27**   实现小车视觉处理部分的大部分内容（代码提交加pcb截图）
- **4.28~5.9**     完善小车视觉部分剩余内容，并提升速度与稳定性，基本达到封箱水平（代码更新）

---

## 附录

电赛架构设计图：

![](电赛.png)
